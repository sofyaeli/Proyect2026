<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Conversor de Bases Num칠ricas</title>
    <style>
        :root {
            --primary-blue: #00d4ff;
            --secondary-blue: #00b4d8;
            --accent-orange: #ff9f1c;
            --bg-dark: #1e1e26;
            --card-bg: #2a2a35;
            --text-gray: #b0b0b0;
            --border-color: #3d3d4d;
        }

        body {
            background-color: var(--bg-dark);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 40px 20px;
            color: #e0e0e0;
        }

        .main-container {
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: 20px;
            width: 100%;
            max-width: 900px;
            box-shadow: 10px 10px 30px rgba(0,0,0,0.5);
            border: 1px solid #333;
        }

        .card { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }
        h2 { color: #333; text-align: center; }
        .group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #555; }
        input { width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 6px; box-sizing: border-box; font-size: 1rem; transition: border-color 0.3s; }
        input:focus { border-color: #007bff; outline: none; }
        small { color: #888; }
         /* Estilo para los botones de navegaci칩n superior */
        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }

        .btn-nav {
            text-decoration: none;
            color: #a0a0a0;
            background: #2a2a35;
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 0.85rem;
            border: 1px solid #444;
            transition: all 0.3s ease;
        }

        .btn-nav:hover {
            color: #00d4ff;
            border-color: #00d4ff;
            transform: translateY(-2px);
        }

    </style>
</head>
<body>
    

<div class="card">
         <nav class="nav-buttons">
            <a href="../index.html" class="btn-nav">游 Home</a>
            <a href="documentacion.html" class="btn-nav">Documentacion</a>
        </nav>
    <h2>Conversor de Bases</h2>
    
    <div class="group">
        <label>Binario</label>
        <input type="text" id="binario" placeholder="Ej: 1010" oninput="convertir(this, 2)">
    </div>

    <div class="group">
        <label>Octal</label>
        <input type="text" id="octal" placeholder="Ej: 12" oninput="convertir(this, 8)">
    </div>

    <div class="group">
        <label>Decimal</label>
        <input type="text" id="decimal" placeholder="Ej: 10" oninput="convertir(this, 10)">
    </div>

    <div class="group">
        <label>Hexadecimal</label>
        <input type="text" id="hex" placeholder="Ej: A" oninput="convertir(this, 16)">
    </div>
    
    <small>* Escribe en cualquier campo para convertir a los dem치s.</small>
</div>

<script>
   // Definimos los caracteres permitidos para cada base
const patrones = {
    2:  /^[0-1]*$/,          // Solo 0 y 1
    8:  /^[0-7]*$/,          // Del 0 al 7
    10: /^[0-9]*$/,          // Del 0 al 9
    16: /^[0-9a-fA-F]*$/    // Del 0 al 9 y de la A a la F
};

const campos = {
    2: document.getElementById('binario'),
    8: document.getElementById('octal'),
    10: document.getElementById('decimal'),
    16: document.getElementById('hex')
};

// Variable para guardar el 칰ltimo valor v치lido de cada campo
let valoresPrevios = { 2: "", 8: "", 10: "", 16: "" };

function convertir(input, base) {
    const valorActual = input.value;

    // VALIDACI칍N: Si el car치cter no pertenece a la base, revertimos al 칰ltimo valor v치lido
    if (!patrones[base].test(valorActual)) {
        input.value = valoresPrevios[base];
        return;
    }

    // Si es v치lido, lo guardamos como el nuevo "칰ltimo valor v치lido"
    valoresPrevios[base] = valorActual;

    if (valorActual === "") {
        limpiarCampos();
        return;
    }

    // L칩gica de conversi칩n
    const decimal = parseInt(valorActual, base);

    Object.keys(campos).forEach(b => {
        const baseDestino = parseInt(b);
        if (baseDestino !== base) {
            const resultado = decimal.toString(baseDestino).toUpperCase();
            campos[b].value = resultado;
            valoresPrevios[baseDestino] = resultado; // Sincronizamos los valores previos
        }
    });
}

function limpiarCampos() {
    Object.keys(campos).forEach(b => {
        campos[b].value = "";
        valoresPrevios[b] = "";
    });
}
</script>

</body>
</html>